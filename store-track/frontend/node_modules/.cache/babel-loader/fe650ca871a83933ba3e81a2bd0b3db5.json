{"ast":null,"code":"!function (definition) {\n  if (typeof module == \"object\" && module.exports) module.exports = definition();else if (typeof define == \"function\") define(definition);else this.tz = definition();\n}(function () {\n  // Only local if URL is local.\n  // Fallback to hash polling. Check frequently.\n  // On the client, we look at forms and links to determine method.\n  // Use live or delegate, need to be friendly with a selector langauge.\n  var slice = [].slice;\n\n  function Reactor() {\n    var reactions = [];\n\n    function on() {\n      var vargs = slice.call(arguments, 0),\n          reaction = {\n        methods: [],\n        urls: [],\n        callback: vargs.pop()\n      },\n          i;\n\n      for (i = vargs.length - 1; i != -1; i--) {\n        if (vargs[i][0] == '/') {\n          reaction.urls.push(vargs[i]);\n        } else {\n          reaction.methods.push(vargs[i]);\n        }\n      }\n\n      reactions.push(reaction);\n    }\n\n    function react(method, url) {\n      var vargs = slice.call(arguments, 2),\n          i,\n          reaction,\n          hit;\n\n      for (i = reactions.length - 1; i != -1; i--) {\n        reaction = reactions[i];\n\n        if (!reaction.methods.length || ~reaction.methods.indexOf(method)) {\n          if (~reaction.urls.indexOf(url)) {\n            reaction.callback.apply(this, [method, url].concat(vargs));\n          }\n        }\n      }\n    }\n\n    this.on = on;\n    this.react = react;\n  }\n\n  return {\n    createReactor: function () {\n      return new Reactor();\n    }\n  };\n});","map":{"version":3,"sources":["/home/junior/work/backbone/store-track/node_modules/switch/index.js"],"names":["definition","module","exports","define","tz","slice","Reactor","reactions","on","vargs","call","arguments","reaction","methods","urls","callback","pop","i","length","push","react","method","url","hit","indexOf","apply","concat","createReactor"],"mappings":"AAAA,CAAE,UAAUA,UAAV,EAAsB;AACtB,MAAI,OAAOC,MAAP,IAAiB,QAAjB,IAA6BA,MAAM,CAACC,OAAxC,EAAiDD,MAAM,CAACC,OAAP,GAAiBF,UAAU,EAA3B,CAAjD,KACK,IAAI,OAAOG,MAAP,IAAiB,UAArB,EAAiCA,MAAM,CAACH,UAAD,CAAN,CAAjC,KACA,KAAKI,EAAL,GAAUJ,UAAU,EAApB;AACN,CAJC,CAIC,YAAY;AACf;AAEA;AAEA;AAEA;AACE,MAAIK,KAAK,GAAG,GAAGA,KAAf;;AACA,WAASC,OAAT,GAAoB;AAClB,QAAIC,SAAS,GAAG,EAAhB;;AACA,aAASC,EAAT,GAAe;AACb,UAAIC,KAAK,GAAGJ,KAAK,CAACK,IAAN,CAAWC,SAAX,EAAsB,CAAtB,CAAZ;AAAA,UACIC,QAAQ,GAAG;AAAEC,QAAAA,OAAO,EAAE,EAAX;AAAeC,QAAAA,IAAI,EAAE,EAArB;AAAyBC,QAAAA,QAAQ,EAAEN,KAAK,CAACO,GAAN;AAAnC,OADf;AAAA,UACiEC,CADjE;;AAEA,WAAKA,CAAC,GAAGR,KAAK,CAACS,MAAN,GAAc,CAAvB,EAA0BD,CAAC,IAAI,CAAC,CAAhC,EAAmCA,CAAC,EAApC,EAAwC;AACtC,YAAIR,KAAK,CAACQ,CAAD,CAAL,CAAS,CAAT,KAAe,GAAnB,EAAwB;AACtBL,UAAAA,QAAQ,CAACE,IAAT,CAAcK,IAAd,CAAmBV,KAAK,CAACQ,CAAD,CAAxB;AACD,SAFD,MAEO;AACLL,UAAAA,QAAQ,CAACC,OAAT,CAAiBM,IAAjB,CAAsBV,KAAK,CAACQ,CAAD,CAA3B;AACD;AACF;;AACDV,MAAAA,SAAS,CAACY,IAAV,CAAeP,QAAf;AACD;;AAED,aAASQ,KAAT,CAAgBC,MAAhB,EAAwBC,GAAxB,EAA6B;AAC3B,UAAIb,KAAK,GAAGJ,KAAK,CAACK,IAAN,CAAWC,SAAX,EAAsB,CAAtB,CAAZ;AAAA,UAAsCM,CAAtC;AAAA,UAAyCL,QAAzC;AAAA,UAAmDW,GAAnD;;AACA,WAAKN,CAAC,GAAGV,SAAS,CAACW,MAAV,GAAkB,CAA3B,EAA8BD,CAAC,IAAI,CAAC,CAApC,EAAuCA,CAAC,EAAxC,EAA4C;AAC1CL,QAAAA,QAAQ,GAAGL,SAAS,CAACU,CAAD,CAApB;;AACA,YAAI,CAACL,QAAQ,CAACC,OAAT,CAAiBK,MAAlB,IAA4B,CAACN,QAAQ,CAACC,OAAT,CAAiBW,OAAjB,CAAyBH,MAAzB,CAAjC,EAAmE;AACjE,cAAI,CAACT,QAAQ,CAACE,IAAT,CAAcU,OAAd,CAAsBF,GAAtB,CAAL,EAAiC;AAC/BV,YAAAA,QAAQ,CAACG,QAAT,CAAkBU,KAAlB,CAAwB,IAAxB,EAA8B,CAAEJ,MAAF,EAAUC,GAAV,EAAgBI,MAAhB,CAAuBjB,KAAvB,CAA9B;AACD;AACF;AACF;AACF;;AAED,SAAKD,EAAL,GAAUA,EAAV;AACA,SAAKY,KAAL,GAAaA,KAAb;AACD;;AAED,SAAO;AAAEO,IAAAA,aAAa,EAAE,YAAY;AAAE,aAAO,IAAIrB,OAAJ,EAAP;AAAoB;AAAnD,GAAP;AACD,CA7CC,CAAF","sourcesContent":["! function (definition) {\n  if (typeof module == \"object\" && module.exports) module.exports = definition();\n  else if (typeof define == \"function\") define(definition);\n  else this.tz = definition();\n} (function () {\n// Only local if URL is local.\n\n// Fallback to hash polling. Check frequently.\n\n// On the client, we look at forms and links to determine method.\n\n// Use live or delegate, need to be friendly with a selector langauge.\n  var slice = [].slice;\n  function Reactor () {\n    var reactions = [];\n    function on () {\n      var vargs = slice.call(arguments, 0),\n          reaction = { methods: [], urls: [], callback: vargs.pop() }, i;\n      for (i = vargs.length -1; i != -1; i--) {\n        if (vargs[i][0] == '/') {\n          reaction.urls.push(vargs[i]);\n        } else {\n          reaction.methods.push(vargs[i]);\n        }\n      }\n      reactions.push(reaction);\n    }\n\n    function react (method, url) {\n      var vargs = slice.call(arguments, 2), i, reaction, hit;\n      for (i = reactions.length -1; i != -1; i--) {\n        reaction = reactions[i];\n        if (!reaction.methods.length || ~reaction.methods.indexOf(method)) {\n          if (~reaction.urls.indexOf(url)) {\n            reaction.callback.apply(this, [ method, url ].concat(vargs));\n          }\n        }\n      }\n    }\n\n    this.on = on;\n    this.react = react;\n  }\n\n  return { createReactor: function () { return new Reactor } };\n});\n"]},"metadata":{},"sourceType":"script"}